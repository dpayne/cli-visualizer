language: cpp

compiler:
    - clang++
    - g++
before_install:
 - "export TMP_CC=$CC && export TMP_CXX=$CXX && export CXX=g++ && cd /usr/src/gtest && sudo cmake . && sudo cmake --build . && sudo mv libg* /usr/local/lib/ ; cd - && export CXX=$TMP_CXX && export CC=$TMP_CC"

install:
- if [ "$CXX" = "g++" ]; then export CXX="g++-4.9" CC="gcc-4.9"; fi
- if [ "$CXX" = "clang++" ]; then export CXX="clang++-3.7" CC="clang-3.7"; fi

addons:
  apt:
    sources:
    - llvm-toolchain-precise-3.7
    - ubuntu-toolchain-r-test
    packages:
    - libfftw3-dev
    - libncursesw5-dev
    - libgtest-dev
    - gcc-4.9
    - g++-4.9
    - clang
    - clang-3.7
